!function e(t,n,i){function r(s,c){if(!n[s]){if(!t[s]){var a="function"==typeof require&&require;if(!c&&a)return a(s,!0);if(o)return o(s,!0);var f=new Error("Cannot find module '"+s+"'");throw f.code="MODULE_NOT_FOUND",f}var u=n[s]={exports:{}};t[s][0].call(u.exports,function(e){var n=t[s][1][e];return r(n?n:e)},u,u.exports,e,t,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(e,t,n){var i=e("performance-now");e("requestanimationframe");var r=e("events"),o=function(e){return e&&e.call};t.exports=function(e){"use strict";var t=!1,n=!1,s=!1,c=0,a=0,f=new r,u=0,l=0,h=0,v=.9,m=0,d={get time(){return u},get deltatime(){return l},get count(){return h},get fps(){return m}},p=function(){var e=Math.min(1,h/5)*v,r=u;u=i()-c,l=u-r,m=m*e+(1-e)/(l/1e3),t?(requestAnimationFrame(p),a<d.deltatime?f.emit("animate",d):u=r):(n=!1,f.emit("stop",d),s&&(s=!1,y())),h++},y=function(){t=n=!0,u=0,l=0,h=0,m=0,c=i(),f.emit("start",d),requestAnimationFrame(p)};return Object.defineProperties(f,{animating:{configurable:!0,get:function(){return n}},data:{configurable:!0,get:function(){return d}},fpsSmoothingCoefficient:{configurable:!0,get:function(){return v},set:function(e){!isNaN(e)&&0<e&&e<1&&(v=e)}},minRefresh:{configurable:!0,get:function(){return a},set:function(e){!isNaN(e)&&e>=0&&(a=e)}}}),f.start=function(){return n||y(),f},f.restart=function(){return n?(s=!0,t=!1):y(),f},f.stop=function(){return t=!1,f},o(e)&&e.call(void 0,f),f}},{events:3,"performance-now":4,requestanimationframe:5}],2:[function(e,t,n){function i(){h&&u&&(h=!1,u.length?l=u.concat(l):v=-1,l.length&&r())}function r(){if(!h){var e=c(i);h=!0;for(var t=l.length;t;){for(u=l,l=[];++v<t;)u&&u[v].run();v=-1,t=l.length}u=null,h=!1,a(e)}}function o(e,t){this.fun=e,this.array=t}function s(){}var c,a,f=t.exports={};!function(){try{c=setTimeout}catch(e){c=function(){throw new Error("setTimeout is not defined")}}try{a=clearTimeout}catch(e){a=function(){throw new Error("clearTimeout is not defined")}}}();var u,l=[],h=!1,v=-1;f.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new o(e,t)),1!==l.length||h||c(r,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=s,f.addListener=s,f.once=s,f.off=s,f.removeListener=s,f.removeAllListeners=s,f.emit=s,f.binding=function(e){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(e){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},{}],3:[function(e,t,n){function i(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function o(e){return"number"==typeof e}function s(e){return"object"==typeof e&&null!==e}function c(e){return void 0===e}t.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._maxListeners=void 0,i.defaultMaxListeners=10,i.prototype.setMaxListeners=function(e){if(!o(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},i.prototype.emit=function(e){var t,n,i,o,a,f;if(this._events||(this._events={}),"error"===e&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;var u=new Error('Uncaught, unspecified "error" event. ('+t+")");throw u.context=t,u}if(n=this._events[e],c(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:o=Array.prototype.slice.call(arguments,1),n.apply(this,o)}else if(s(n))for(o=Array.prototype.slice.call(arguments,1),f=n.slice(),i=f.length,a=0;a<i;a++)f[a].apply(this,o);return!0},i.prototype.addListener=function(e,t){var n;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?s(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,s(this._events[e])&&!this._events[e].warned&&(n=c(this._maxListeners)?i.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())),this},i.prototype.on=i.prototype.addListener,i.prototype.once=function(e,t){function n(){this.removeListener(e,n),i||(i=!0,t.apply(this,arguments))}if(!r(t))throw TypeError("listener must be a function");var i=!1;return n.listener=t,this.on(e,n),this},i.prototype.removeListener=function(e,t){var n,i,o,c;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],o=n.length,i=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(s(n)){for(c=o;c-- >0;)if(n[c]===t||n[c].listener&&n[c].listener===t){i=c;break}if(i<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},i.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],r(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},i.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},i.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},i.listenerCount=function(e,t){return e.listenerCount(t)}},{}],4:[function(e,t,n){(function(e){(function(){var n,i,r;"undefined"!=typeof performance&&null!==performance&&performance.now?t.exports=function(){return performance.now()}:"undefined"!=typeof e&&null!==e&&e.hrtime?(t.exports=function(){return(n()-r)/1e6},i=e.hrtime,n=function(){var e;return e=i(),1e9*e[0]+e[1]},r=n()):Date.now?(t.exports=function(){return Date.now()-r},r=Date.now()):(t.exports=function(){return(new Date).getTime()-r},r=(new Date).getTime())}).call(this)}).call(this,e("_process"))},{_process:2}],5:[function(e,t,n){!function(e){!function(){if(!e.requestAnimationFrame){if(e.webkitRequestAnimationFrame)return e.requestAnimationFrame=e.webkitRequestAnimationFrame,void(e.cancelAnimationFrame=e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame);var t=0;e.requestAnimationFrame=function(n){var i=(new Date).getTime(),r=Math.max(0,16-(i-t)),o=e.setTimeout(function(){n(i+r)},r);return t=i+r,o},e.cancelAnimationFrame=function(e){clearTimeout(e)}}}(),"function"==typeof define&&define(function(){return e.requestAnimationFrame})}(window)},{}],6:[function(e,t,n){"use strict";t.exports=function(e,t,n,i){var r={};return r.direction=[0,0],r.running=!1,r.newGame=!0,console.log(e),e.keydown(function(e){var o=!0;switch(e.which){case 38:r.direction[1]=-1;break;case 40:r.direction[1]=1;break;case 87:r.direction[0]=-1;break;case 83:r.direction[0]=1;break;default:o=!1}o&&e.preventDefault(),80===e.which?r.running?t(r):n(r):13===e.which&&r.newGame&&i()}).keyup(function(e){switch(e.which){case 38:r.direction[1]===-1&&(r.direction[1]=0);break;case 40:1===r.direction[1]&&(r.direction[1]=0);break;case 87:r.direction[0]===-1&&(r.direction[0]=0);break;case 83:1===r.direction[0]&&(r.direction[0]=0)}}),r}},{}],7:[function(e,t,n){"use strict";function i(e){return e*e}function r(e){return"number"==typeof e?e?e<0?-1:1:e===e?0:NaN:NaN}function o(e,t,n,i,r,o,s){switch(s){case 0:e.fillRect(t,n,i,o),e.fillRect(t,n+r-o,i,o),e.fillRect(t,n,o,r),e.fillRect(t+i-o,n,o,r);break;case 1:e.fillRect(t,n,i/2+o/2,o),e.fillRect(t+i/2-o/2,n,o,r),e.fillRect(t,n+r-o,i,o);break;case 2:e.fillRect(t,n,i,o),e.fillRect(t,n+(r-o)/2,i,o),e.fillRect(t,n+(r-o),i,o),e.fillRect(t+(i-o),n,o,(r+o)/2),e.fillRect(t,n+(r-o)/2,o,(r+o)/2);break;case 3:e.fillRect(t,n,i,o),e.fillRect(t,n+(r-o),i,o),e.fillRect(t+i/5,n+(r-o)/2,4*i/5,o),e.fillRect(t+(i-o),n,o,r);break;case 4:e.fillRect(t,n+(r-o)/2,i,o),e.fillRect(t,n,o,(r+o)/2),e.fillRect(t+(i-o),n,o,r);break;case 5:e.fillRect(t,n,i,o),e.fillRect(t,n+(r-o)/2,i,o),e.fillRect(t,n+(r-o),i,o),e.fillRect(t,n,o,(r+o)/2),e.fillRect(t+(i-o),n+(r-o)/2,o,(r+o)/2);break;case 6:e.fillRect(t,n,i,o),e.fillRect(t,n+(r-o)/2,i,o),e.fillRect(t,n+(r-o),i,o),e.fillRect(t,n,o,r),e.fillRect(t+(i-o),n+(r-o)/2,o,(r+o)/2);break;case 7:e.fillRect(t,n,4*i/5+o/2,o),e.fillRect(t+(4*i/5-o/2),n,o,r),e.fillRect(t+(i-o)/2,n+(r-o)/2,(i+o)/2,o);break;case 8:e.fillRect(t,n,i,o),e.fillRect(t,n+(r-o)/2,i,o),e.fillRect(t,n+(r-o),i,o),e.fillRect(t,n,o,r),e.fillRect(t+(i-o),n,o,r);break;case 9:e.fillRect(t,n,i,o),e.fillRect(t,n+(r-o)/2,i,o),e.fillRect(t+(i-o),n,o,r),e.fillRect(t,n,o,(r+o)/2)}}var s=e("jquery"),c=e("animation-timer2"),a=e("./keyboard"),f=window.CanvasRenderingContext2D&&CanvasRenderingContext2D.prototype;f&&f.lineTo&&(f.dashedLine=function(e,t,n,i,o){o||(o=[10,5]),this.moveTo(e,t);var s=n-e,c=i-t;0===s&&(s=1e-15);for(var a=c/s,f=Math.sqrt(s*s+c*c),u=0,l=!0;f>=.1;){var h=Math.min(o[u%o.length],f);0==h&&(h=.001);var v=r(s)*h/Math.sqrt(1+a*a);e+=v,t+=a*v,this[l?"lineTo":"moveTo"](e,t),f-=h,l=!l,++u}}),s(document).ready(function(){var e=function(e){s("#pause").show(),e.running=!1},t=function(e){s("#pause").hide(),setTimeout(function(){e.running=!0},400)},n=function(){h.running=!0,h.newGame=!1,N();for(var e=0;e<x.length;++e)x[e]=0;s("#newgame").hide(),s("#pause").hide()},f=function(e,t){this.id=0,this.set(e,t)};f.prototype.set=function(e,t){"function"==typeof e&&("undefined"==typeof t&&(t=1e3),this.id&&clearInterval(this.id),this.id=setInterval(e,t))},f.prototype.clear=function(){0!==this.id&&(clearInterval(this.id),this.id=0)};var u=function(e,t){"function"!=typeof e?this.reset=function(){return this.x=e,this.y=t,this}:this.reset=function(){return e(this,arguments)},this.reset()},l=1.61803398875,h=a(s(document),e,t,n),v=s("#map");v[0].width=v.parent().width(),v[0].height=v.parent().height();var m=v[0].height,d=v[0].width,p=v[0].getContext("2d"),y=[new u(3*m/100,m/2),new u(d-3*m/100,m/2)],w=[0,0],g=3*Math.sqrt(m),b=m/50,_=[!1,!1],R=.075*Math.pow(m,.75),x=[0,0],k=0,L=!1,M=.5,T=new u(d/2,m/2),q=m/40,A=new u(function(e){("undefined"==typeof e.dir||!e.dir||1!==e.dir&&e.dir!==-1)&&(e.dir=2*(Math.random()<.5)-1);var t=Math.atan2((g+q)/2.1,d/2-m/25-q/2),n=d/150,i=t*(Math.random()-.5);return e.x=n*Math.cos(i)*e.dir,e.y=n*Math.sin(i),e.dir=0,e}),E=d/125e3,C=!1,N=function(){T.reset(),A.reset();for(var e=0;e<y.length;++e)y[e].reset()},j=function(e,t,n){_[n]=t,t?e.html("CPU (CLICK TO CHANGE)"):e.html("PLAYER (CLICK TO CHANGE)")};j(s("#cpu1"),!0,0),j(s("#cpu2"),!1,1),s("#cpu1").click(function(){j(s(this),!_[0],0)}),s("#cpu2").click(function(){j(s(this),!_[1],1)}),s("#begin").click(function(){n()}),s("#restart").click(function(){s("#pause").hide(),h.newGame=!0,s("#newgame").show()}),s("#restartWin").click(function(){s("#winner").hide(),h.newGame=!0,s("#newgame").show()}),s("#resume").click(function(){t(h)});for(var F=function(e){var t=!1,n=function i(e){if(t){var n=e?"black":"white";t.css({color:n});var r=300;setTimeout(function(){i(!e)},r)}};e.mouseover(function(){t=s(this);var e=!0;n(e)}).mouseout(function(){t=!1,s(this).css({color:""})})},D=0;D<s(".select").length;++D)F(s(s(".select")[D]));var O=function(){for(var e=0;e<x.length;++e)10==x[e]&&(s("#winName").html(0==e?"Left":"Right"),s("#winner").show(),h.running=!1)},G=function(e){var t=A,n=T,o=y[e].y-n.y,s=g/2+q/2,c=Math.atan(-t.y/Math.abs(t.x)),a=o/s,f=r(t.x)*(-a*Math.PI-6*c)/8,u=Math.tan(f);A.x=-r(t.x)*Math.sqrt((i(t.x)+i(t.y))/(1+i(u))),A.y=-u*A.x},I=function(){p.fillStyle="white",p.strokeStyle="white",p.lineWidth=m/75,p.fillRect(m/50,m/50,d-m/25,m/50),p.fillRect(m/50,48*m/50,d-m/25,m/50),p.beginPath(),p.dashedLine(d/2,4*m/75,d/2,71*m/75,[m/75]),p.stroke()};I();var S=document.createElement("img");S.onload=function(){C=S},S.src=v[0].toDataURL("image/png");var U=60,P=7,z=s("#characterTest"),H=function K(e,t){z.css({"font-size":e});var n=s("#characterTest").width(),i=n*U,r=m*(6+5*l)/50,o=m-1.5*r;if(i>=4*d/5)K(e/2,t);else{for(;o<e*t*P;){if(t<=1.2)return void K(e/2,1.2);t-=.2}s(".menu").css({left:(d-i)/2,top:r,width:i,"font-size":e,"line-height":t});var c=Math.min(35/18*t*e,2*e);s(".large").css({"font-size":c,"line-height":Math.min(7*t/3*e/c,2)}),s("#characterTest").remove()}};H(25,2),c(function(e){e.start(),e.on("animate",function(e){if(h.running)if(k>=0)k-=1/(e.fps*M),k<.5&&!L&&(N(),L=!0);else{var t=function(e){A[e]*=1+Math.abs(E/A.x),T[e]+=A[e]};t("x"),t("y"),(A.y>0&&T.y+q/2>24*m/25||A.y<0&&T.y-q/2<m/25)&&(A.y=-A.y),A.x<0?T.x<=m/25+q/2&&(T.y+q/2>y[0].y-g/2&&T.y-q/2<y[0].y+g/2?G(0):(k=1,L=!1,A.dir=1,++x[1],O())):T.x>=d-m/25-q/2&&(T.y+q/2>y[1].y-g/2&&T.y-q/2<y[1].y+g/2?G(1):(k=1,L=!1,A.dir=-1,++x[0],O()));for(var n=0;n<y.length;++n){var i=void 0,r=void 0,s=void 0,c=R;if(_[n]){i=T.y<y[n].y?-1:1;var a=Math.abs(T.y-y[n].y)/m,f=1-Math.abs(T.x-y[n].x)/d;r=a*Math.sqrt(f),s=w[n],c*=.66}else i=h.direction[n],r=.2,s=i;s<=0&&y[n].y-g/2<2*m/50+3*q/2?(w[n]=0,_[n]&&(y[n].y=2*m/50+3*q/2+g/2)):s>=0&&y[n].y+g/2>48*m/50-3*q/2?(w[n]=0,_[n]&&(y[n].y=48*m/50-3*q/2-g/2)):(w[n]*=1-r,w[n]+=r*i,y[n].y+=c*w[n])}}p.fillStyle="rgba(0,0,0,0.91)",p.fillRect(0,0,d,m),C?p.drawImage(C,0,0):I(),p.fillStyle="white";for(var u=0;u<y.length;++u)p.fillRect(y[u].x-b/2,y[u].y-g/2,b,g);var v=1*m/10,j=l*v,F=1.5*m/150;10!==x[0]&&10!==x[1]?(o(p,11*d/25-3*m/50,2*m/25,v,j,F,x[0]),o(p,14*d/25,2*m/25,v,j,F,x[1])):10===x[0]?(o(p,11*d/25-3*m/50-1.1*v,2*m/25,v,j,F,1),o(p,11*d/25-3*m/50,2*m/25,v,j,F,0),o(p,14*d/25,2*m/25,v,j,F,x[1])):10===x[1]&&(o(p,11*d/25-3*m/50,2*m/25,v,j,F,x[0]),o(p,14*d/25,2*m/25,v,j,F,1),o(p,14*d/25+1.1*v,2*m/25,v,j,F,0)),p.fillStyle=k>0&&k%.2>=.1?"red":"white",p.fillRect(T.x-q/2,T.y-q/2,q,q)})})})},{"./keyboard":6,"animation-timer2":1,jquery:"jquery"}]},{},[7]);
//# sourceMappingURL=bundle.js.map
